---
import Minidraco from '../../../assets/minidraco_blue.png'
import Draco from '../../../assets/draco_blue.png'
import Dracolosse from '../../../assets/dracoloss_blue.png'
import CircleCheck from '../../../assets/circle-check.svg'
import LoveBall from '../../../assets/accueil/loveball.png'
import { Image } from 'astro:assets'

const services = [
  {
    icon: Minidraco,
    title: 'Formule Minidraco',
    description: 'Nettoyage professionnel et correction des micro rayures.',
    price: 'A partir de 10€ + 7,18€ en livraison*',
    features: [
      'Nettoyage en profondeur',
      'Correction des micro rayures',
      'Résultats durables',
      'Produits spécialisés et techniques adaptées aux cartes Pokémon',
    ],
  },
  {
    icon: Draco,
    title: 'Formule Draco',
    description: 'Correction d’un endommagement précis et nettoyage',
    price: 'A partir de 20€ + 7,18€ en livraison*',
    features: [
      'Contenu de la formule Minidraco',
      'Amélioration d’un endommagement spécifique',
      'Résultats durables',
      'Produits spécialisés et techniques adaptées aux cartes Pokémon',
    ],
  },
  {
    icon: Dracolosse,
    title: 'Formule Dracolosse',
    description: 'Pour une carte qui a de nombreux endommagements',
    price: 'A partir de 35€ + 7,18€ en livraison*',
    features: [
      'Amélioration des zones endommagées',
      'Nettoyage en profondeur',
      'Résultats durables',
      'Produits spécialisés et techniques adaptées aux cartes Pokémon',
    ],
  },
]

const processes = [
  {
    index: 1,
    title: 'Demande',
    subtitle: 'Envoi de la demande du devis personnalisé',
  },
  {
    index: 2,
    title: 'Diagnostic',
    subtitle:
      'Réponse de Fix My Card avec un devis adapté à la demande du client',
  },
  {
    index: 3,
    title: 'Validation',
    subtitle: 'Signature, validation et paiement du devis par le client',
  },
  {
    index: 4,
    title: 'Envoi',
    subtitle: 'Envoi de la commande à Fix My Card via Mondial relay',
  },
  {
    index: 5,
    title: 'Prestation et retour',
    subtitle: 'Prestation réalisée et envoi de la commande au client.',
  },
]
---

<div class="py-12">
  <div
    class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex flex-col md:items-stretch items-center"
  >
    <div class="text-center mb-12">
      <h1 class="text-5xl mb-4 text-gray-900">Mes prestations</h1>
      <p class="text-xl text-gray-600 max-w-3xl mx-auto">
        Des services professionnels adaptés à tous vos besoins de restauration
        de cartes Pokémon
      </p>
    </div>

    <div class="grid gap-8 mb-12 grid-cols-1 md:grid-cols-2 lg:grid-cols-3">
      {
        services.map((service, index) => (
          <div class="bg-card text-card-foreground flex flex-col rounded-xl border transition-shadow hover:shadow-xl">
            <div class="flex flex-col gap-1.5 h-[160px] px-6 pt-6">
              <div class="mb-4">
                <Image
                  src={service.icon}
                  quality={80}
                  alt={service.title}
                  width={40}
                  height={40}
                  format="webp"
                  loading={index === 0 ? 'eager' : 'lazy'}
                  fetchpriority={index === 0 ? 'high' : undefined}
                  class="w-10 h-10"
                />
              </div>
              <h4 class="text-lg font-semibold leading-none">
                {service.title}
              </h4>
              <p class="text-sm text-gray-500">{service.description}</p>
            </div>
            <div class="px-6 pb-6">
              <div class="mb-4">
                <span class="text-2xl font-medium text-blue-600">
                  {service.price}
                </span>
              </div>
              <ul class="space-y-2">
                {service.features.map((feature) => (
                  <li class="flex items-start gap-2">
                    <CircleCheck class="w-5 h-5 text-green-500 flex-shrink-0 mt-0.5" />
                    <span class="text-sm text-gray-700">{feature}</span>
                  </li>
                ))}
              </ul>
            </div>
          </div>
        ))
      }
    </div>

    <div class="text-sm mb-8 text-gray-600">
      <i>
        *Remise en main propre possible sur la zone de Montpellier. Les prix
        indiqués correspondent aux prix HT de la prestation ajoutée au prix de
        la livraison. Livraison à partir de 7,18€ en locker en France. Le prix
        de la livraison peut augmenter selon le poids, le pays de destination et
        le mode de réception. Le prix de livraison sera affiché sur le devis.
      </i>
      <a
        class="underline text-blue-600 hover:text-blue-700 transition-colors"
        href="/cgv-fixmycard.pdf"
        target="_blank"
      >
        Voir les CGV.
      </a>
    </div>
    <div
      class="bg-gradient-to-r from-purple-600 to-blue-600 rounded-lg p-8 mb-12 text-white"
    >
      <h2 class="text-3xl font-bold mb-8 text-center">
        Le processus de commande
      </h2>
      <div class="grid grid-cols-1 md:grid-cols-5 gap-6">
        {
          processes.map((process) => (
            <div class="text-center">
              <div class="bg-white text-black w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-4 text-xl font-semibold">
                {process.index}
              </div>
              <h3 class="text-xl font-semibold mb-2">{process.title}</h3>
              <p class="text-sm text-purple-100">{process.subtitle}</p>
            </div>
          ))
        }
      </div>
    </div>

    <div
      class="bg-gradient-to-r from-pink-500 to-rose-500 rounded-lg p-8 mb-12 text-white overflow-hidden relative shadow-lg"
    >
      <div class="flex flex-col md:flex-row items-center gap-8 relative z-10">
        <div class="flex-shrink-0 animate-float">
          <Image
            src={LoveBall}
            quality={90}
            alt="Love Ball"
            width={160}
            height={160}
            format="webp"
            class="w-32 h-32 md:w-40 md:h-40 drop-shadow-2xl"
          />
        </div>
        <div class="flex-1 text-center md:text-left">
          <h2 class="text-3xl font-bold mb-4">Programme de Fidélité</h2>
          <p class="text-lg text-pink-50 mb-6 max-w-2xl">
            Votre confiance mérite d'être récompensée !<br />Profitez
            d'avantages exclusifs au fil de vos commandes.
          </p>
          <ul class="space-y-3 inline-block text-left">
            <li class="flex items-center gap-3">
              <div class="bg-white/20 p-1.5 rounded-full">
                <CircleCheck class="w-5 h-5 text-white" />
              </div>
              <span class="font-medium"
                >1 Formule Minidraco offerte toutes les 9 formules achetées</span
              >
            </li>
            <li class="flex items-center gap-3">
              <div class="bg-white/20 p-1.5 rounded-full">
                <CircleCheck class="w-5 h-5 text-white" />
              </div>
              <span class="font-medium"
                >-10% de remise immédiate pour toute commande supérieure à 500€</span
              >
            </li>
          </ul>
        </div>
      </div>
    </div>

    <div class="text-center">
      <h2 class="text-3xl font-bold mb-4 text-gray-900">
        Intéressé par mes services ?
      </h2>
      <p class="text-xl text-gray-600 mb-6">
        Demandez un devis gratuit et personnalisé dès maintenant
      </p>
      <a
        href="/devis"
        class="inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium transition-all outline-none focus-visible:ring-2 focus-visible:ring-purple-600/50 h-10 rounded-md px-6 border-2 border-purple-600 text-purple-600 hover:bg-purple-50 active:scale-95"
      >
        Demander un devis gratuit
      </a>
    </div>
  </div>
</div>
